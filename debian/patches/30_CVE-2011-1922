Index: git/daemon/worker.c
===================================================================
--- git.orig/daemon/worker.c	2011-05-25 20:14:23.972591645 +0200
+++ git/daemon/worker.c	2011-05-25 20:15:13.819633021 +0200
@@ -774,6 +774,7 @@
 		qinfo.qtype == LDNS_RR_TYPE_IXFR) {
 		verbose(VERB_ALGO, "worker request: refused zone transfer.");
 		log_addr(VERB_CLIENT,"from",&repinfo->addr, repinfo->addrlen);
+		ldns_buffer_rewind(c->buffer);
 		LDNS_QR_SET(ldns_buffer_begin(c->buffer));
 		LDNS_RCODE_SET(ldns_buffer_begin(c->buffer), 
 			LDNS_RCODE_REFUSED);
